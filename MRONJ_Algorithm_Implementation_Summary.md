# MRONJ風險評估算法實施總結

## 概述
基於您提供的統計分析結果，我已經成功實施了以下兩個主要功能：

1. **MRONJ風險分類算法** - 基於統計發生率計算風險等級
2. **文獻參考網頁系統** - 為每個風險類別提供相關文獻資料

## 實施內容

### 1. 風險評估算法 (`assets/js/mronj-risk-algorithm.js`)

#### 核心功能
- **統計數據整合**: 整合了您提供的所有統計分析結果
- **風險分類**: 基於發生率自動分類為低風險(<2%)、中度風險(2-8%)、高風險(>8%)
- **藥物識別**: 自動識別特定藥物名稱和給藥途徑
- **文獻映射**: 為每個風險類別提供相關參考文獻

#### 風險分類標準
```javascript
風險閾值:
- 低風險: < 2%
- 中度風險: 2-8%
- 高風險: > 8%
```

#### 支援的藥物類型
- **雙磷酸鹽類**: Alendronate, Risedronate, Ibandronate, Clodronate, Zoledronate, Pamidronate
- **單株抗體**: Denosumab, Romosuzumab
- **給藥途徑**: 口服、靜脈/皮下注射

### 2. 文獻參考網頁系統

#### 主要頁面

##### `reference-papers.html` - 完整文獻資料庫
- 按風險等級分類顯示所有文獻
- 搜尋和篩選功能
- 包含發生率統計資料
- 響應式設計，支援列印

##### `reference-detail.html` - 個別風險評估文獻
- 基於特定患者情況顯示相關文獻
- 動態生成URL參數
- 包含患者資訊和風險評估結果
- 支援列印功能

#### 功能特色
- **智能搜尋**: 可搜尋作者、標題、期刊
- **風險篩選**: 按風險等級篩選文獻
- **動態連結**: 從風險評估結果直接連結到相關文獻
- **列印友善**: 優化的列印樣式

### 3. 系統整合

#### 更新的檔案
- **`assets/js/main.js`**: 整合新算法，保持向後相容
- **`risk-assessment.html`**: 顯示統計發生率和文獻連結
- **`algorithm-test.html`**: 算法測試頁面

#### 新功能
- **統計發生率顯示**: 在風險評估結果中顯示具體發生率
- **文獻連結**: 每個風險評估都有對應的文獻參考連結
- **向後相容**: 保持原有功能正常運作

## 統計數據對應

### 骨質疏鬆症患者
| 藥物類型 | 給藥途徑 | 非侵入性治療 | 侵入性治療 | 風險等級 |
|---------|---------|-------------|-----------|---------|
| 無藥物 | - | 0.04% | 0.10% | 低 |
| 雙磷酸鹽類 | 口服 | 0.21% | 1.61% | 低/中 |
| Alendronate | 口服 | 0.24% | 4.97% | 低/中 |
| Zoledronate | 靜脈 | 0.02% | 15.12% | 低/高 |
| Denosumab | 皮下 | 0.04% | 0.93% | 低 |
| Romosuzumab | 皮下 | 0.04% | - | 低 |

### 癌症患者
| 藥物類型 | 給藥途徑 | 非侵入性治療 | 侵入性治療 | 風險等級 |
|---------|---------|-------------|-----------|---------|
| 無藥物 | - | 0.09% | - | 低 |
| 雙磷酸鹽類 | 靜脈 | 0.88% | 9.17% | 低/高 |
| Zoledronate | 靜脈 | 1.21% | 10.81% | 低/高 |
| Denosumab | 皮下 | 1.74% | 12.56% | 低/高 |

## 使用方式

### 1. 風險評估
1. 填寫患者基本資料
2. 輸入藥物資訊
3. 系統自動計算風險等級和發生率
4. 顯示相關文獻連結

### 2. 查看文獻
1. 從風險評估結果點擊文獻連結
2. 或直接訪問 `reference-papers.html` 查看完整資料庫
3. 使用搜尋和篩選功能找到特定文獻

### 3. 測試算法
- 訪問 `algorithm-test.html` 查看算法測試結果
- 驗證統計數據的正確性

## 技術特色

### 1. 模組化設計
- 獨立的風險計算器類別
- 可重複使用的文獻資料結構
- 易於擴展和維護

### 2. 用戶體驗
- 直觀的風險等級顯示
- 一鍵訪問相關文獻
- 響應式設計
- 列印友善

### 3. 數據完整性
- 基於您的統計分析結果
- 包含所有藥物類型和給藥途徑
- 準確的風險分類

## 未來擴展建議

1. **更多藥物支援**: 可輕鬆添加新的藥物類型
2. **國際化**: 支援多語言介面
3. **數據更新**: 定期更新統計數據和文獻
4. **報告生成**: 自動生成PDF報告
5. **API整合**: 提供API供其他系統使用

## 檔案結構
```
MRONJ_WBPG/
├── assets/js/
│   ├── mronj-risk-algorithm.js    # 新算法
│   └── main.js                    # 更新的主程式
├── reference-papers.html          # 文獻資料庫
├── reference-detail.html          # 個別文獻頁面
├── algorithm-test.html            # 算法測試
└── risk-assessment.html           # 更新的風險評估頁面
```

這個實施完全基於您提供的統計分析結果，提供了準確、實用且用戶友善的MRONJ風險評估系統。

